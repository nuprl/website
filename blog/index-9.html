<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>PRL Blog (page 9)</title>
    <meta name="description" content="PRL Blog (page 9)">
    <meta name="author"      content="PRL">
    <meta name="keywords"    content="history, lectures, clojurescript, announcement, Ř JIT, all, Author: Max New, category theory, conference, Author: Sam Caldwell, Author: Zeina Migeed, Author: Gabriel Scherer, Author: Jonathan Schuster, array language, constructions, ocaml, Author: Aaron Weiss, compilers, language implementation, statistics, eventual consistency, dynamic typing, Author: Jan Vitek, r, types, transient, reduction, language, Author: Dustin Jamner, package, coq, definitions, final encoding, interactive syntax, Author: Olivier Flückiger, offsite, NEPLS, Emacs, ghc, haskell, Author: Rob Kleffner, Scribble, Author: William J. Bowman, Author: Milo Davis, dawn of the digital era, clojure, lambda, instrumentation, Author: Daniel Patterson, Author: Li-Yao Xia, 1st blog post, higher-order contracts, compiler correctness, lang-extension, gradual typing, ICFP, castle, garbage collection, Author: Kevin Clancy, FFI, typed racket, Takikawa constant, Author: Julia Belyakova, closure conversion, tutorial, racket, beta, complete monitoring, performance, Author: Asumu Takikawa, Author: Matt Kolosick, Author: Tony Garnock-Jones, pliss, Author: Leif Andersen, galois connection, benchmarking, about, Racket, PL Junior, PLT Redex, coYoneda, extended abstract, Author: Stephen Chang, Gradual Typing, tutorials, PI meeting, Author: Ben Greenman, adjunction, Author: Alexi Turcotte, dsl, Author: Ming-Ho Yee, Author: Justin Slepak, monotonicity, windows, latency, event, observational equivalence, scope, semantics, CRDTs, bugs, dissertation, math, HOPL, System Administration, migratory typing, icfp, Yoneda, books, calculus, Author: Olek Gierczak, proceedings, Author: Artem Pelenitsyn, visr, turnstile, lost time, dear diary, java, Author: Ben Chung">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/img/favicon.ico">
    <link rel="canonical" href="http://prl.ccs.neu.edu/blog/index-9.html">


    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/racket.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/blog/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/blog/feeds/all.rss.xml" title="RSS Feed">
  </head>
  <body id="pn-top" class="subpages">
    <nav class="navbar navbar-inverse">
      <div class="container">
        <div class="row">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li role="presentation"><a href="/">Home</a></li>
              <li role="presentation"><a href="/people.html">People</a></li>
              <li role="presentation"><a href="/teaching.html">Teaching</a></li>
              <li role="presentation"><a href="/seminars.html">Seminars</a></li>
              <li role="presentation"><a href="/software.html">Software</a></li>
              <li role="presentation"><a href="/publications.html">Publications</a></li>
              <li role="presentation"><a href="/new-members.html">New Members</a></li>
              <li role="presentation"><a href="/contact.html">Contact</a></li>
              <li role="presentation" class="active"><a href="/blog/index.html">Blog</a></li>
            </ul>
          </div><!--/.navbar-collapse -->
        </div>
      </div>
    </nav>
    <div class="jumbotron subpages">
      <div class="container">
        <div class="row">
          <a style="text-decoration:none; color:white" href="/blog/index.html">
            <div class="col-md-12">
              <h1>Inside PRL</h1>
              <p>Reading between the parentheses</p>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="pn-main-wrapper">
      <div class="content">
        <div class="container">
          <div class="row">

            <!-- Main column -->
            <div id="content" class="col-md-12">



              <article>
  <header>
    <h2><a href='/blog/2016/06/27/tutorial-using-racket-s-ffi/'>Tutorial: Using Racket&rsquo;s FFI</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-06-27" pubdate="true">2016-06-27</time> :: <span class="tags"><a href="/blog/tags/Racket.html">Racket</a>, <a href="/blog/tags/FFI.html">FFI</a>, <a href="/blog/tags/tutorial.html">tutorial</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/blog/tags/Author-Asumu-Takikawa.html">Asumu Takikawa</a></span></p>
  </header>

<p><span style="font-weight: bold">Update:</span> this post is now part of a series. Part 2 is
<a href="http://prl.ccs.neu.edu/blog/2016/06/29/tutorial-racket-ffi-part-2/">here</a>
and part 3 is
<a href="http://prl.ccs.neu.edu/blog/2016/07/11/tutorial-racket-ffi-part-3/">here</a>.</p>

<p>I&rsquo;ve seen several people ask for a tutorial on Racket&rsquo;s foreign
function interface (FFI), which allows you to dynamically load
C libraries for use in Racket code. While I think the
<a href="http://docs.racket-lang.org/foreign/index.html">documentation</a>
for the FFI is quite good, it is a lot of information to process and
the overview examples may be tricky to run for a beginner.</p>

<p>With that in mind, this blog post will provide a step-by-step tutorial
for Racket&rsquo;s FFI that requires minimal setup. All that you will need to
follow along is a copy of Racket and ideally a DrRacket window.</p>
  <footer>
    <a href='/blog/2016/06/27/tutorial-using-racket-s-ffi/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/06/13/does-anyone-still-care-about-printed-proceedings-grab-some-at-neu-this-week/'>Does anyone still care about printed proceedings? (Grab some at NEU this week!)</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-06-13" pubdate="true">2016-06-13</time> :: <span class="tags"><a href="/blog/tags/proceedings.html">proceedings</a>, <a href="/blog/tags/dawn-of-the-digital-era.html">dawn of the digital era</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/blog/tags/Author-Gabriel-Scherer.html">Gabriel Scherer</a></span></p>
  </header>

<p>Are you interested in printed conference Proceedings? We have a good stack of them left away at Northeastern University (Boston, MA) and it seems that nobody wants them!</p>
  <footer>
    <a href='/blog/2016/06/13/does-anyone-still-care-about-printed-proceedings-grab-some-at-neu-this-week/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/06/07/icfp-2016-looking-for-student-volunteers/'>ICFP 2016: looking for student volunteers</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-06-07" pubdate="true">2016-06-07</time> :: <span class="tags"><a href="/blog/tags/ICFP.html">ICFP</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/blog/tags/Author-Gabriel-Scherer.html">Gabriel Scherer</a></span></p>
  </header>

<p>If you are a student, you should consider <a href="http://goo.gl/forms/fKg3vpjNryBlGWB32">applying</a> to become an ICFP 2016 student volunteer! The deadline for application is July 31st, 2016.</p>
  <footer>
    <a href='/blog/2016/06/07/icfp-2016-looking-for-student-volunteers/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/05/24/measuring-gc-latencies-in-haskell-ocaml-racket/'>Measuring GC latencies in Haskell, OCaml, Racket</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-05-24" pubdate="true">2016-05-24</time> :: <span class="tags"><a href="/blog/tags/garbage-collection.html">garbage collection</a>, <a href="/blog/tags/latency.html">latency</a>, <a href="/blog/tags/instrumentation.html">instrumentation</a>, <a href="/blog/tags/haskell.html">haskell</a>, <a href="/blog/tags/ghc.html">ghc</a>, <a href="/blog/tags/ocaml.html">ocaml</a>, <a href="/blog/tags/racket.html">racket</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/blog/tags/Author-Gabriel-Scherer.html">Gabriel Scherer</a></span></p>
  </header>

<p>James Fisher has a blog post on a case where GHC&rsquo;s runtime system imposed unpleasant latencies on their Haskell program:</p>

<blockquote>
 <p><a href="https://blog.pusher.com/latency-working-set-ghc-gc-pick-two/">Low latency, large working set, and GHC&rsquo;s garbage collector: pick two of three</a></p></blockquote>

<p>The blog post proposes a very simple, synthetic benchmark that exhibits the issue &mdash; basically, latencies incurred by copy time &mdash; with latencies of 50ms that are considered excessive. I thought it would be amusing to reproduce the synthetic benchmark in OCaml and Racket, to see how other GCs handle this.</p>

<p>Without further ado, the main take-away are as follows: the OCaml GC has no issue with large objects in its old generation, as it uses a mark&amp;sweep instead of copying collection, and exhibits less than 3ms worst-case pauses on this benchmark.</p>

<p>The Racket GC also does not copy the old generation, but its incremental GC is still in infancy (compared to the throughput-oriented settings which works well) so the results are less good. It currently suffer from a &ldquo;ramp-up&rdquo; effect that I will describe, that causes large pauses at the beginning of the benchmark (up to 120ms latency), but in its steady state the longest pause are around 22ms.</p>

<p>Please keep in mind that the original benchmark is designed to exercise a very specific workflow that exercises worst-case behavior for GHC&rsquo;s garbage collector. This does not mean that GHC&rsquo;s latencies are bad in general, or that the other tested languages have smaller latencies in general.</p>

<p>The implementations I use, with a Makefile encapsulating the logic for running and analyzing them, are available in a Gitlab repository:</p>

<ul>
 <li>git: <a href="https://gitlab.com/gasche/gc-latency-experiment.git">https://gitlab.com/gasche/gc-latency-experiment.git</a></li>
 <li>files: <a href="https://gitlab.com/gasche/gc-latency-experiment/tree/master">https://gitlab.com/gasche/gc-latency-experiment/tree/master</a></li></ul>
  <footer>
    <a href='/blog/2016/05/24/measuring-gc-latencies-in-haskell-ocaml-racket/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/05/18/gradual-typing-across-the-spectrum/'>Gradual Typing Across the Spectrum</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-05-18" pubdate="true">2016-05-18</time> :: <span class="tags"><a href="/blog/tags/gradual-typing.html">gradual typing</a>, <a href="/blog/tags/PI-meeting.html">PI meeting</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/blog/tags/Author-Asumu-Takikawa.html">Asumu Takikawa</a></span></p>
  </header>

<blockquote>
 <p>Instead of being Pythonistas, Rubyists, or Racketeers we have to be scientists. &mdash; Matthias Felleisen</p></blockquote>

<p>Yesterday we hosted a PI meeting for the <a href="http://prl.ccs.neu.edu/gtp/">Gradual Typing Across the Spectrum</a> NSF grant, gathering researchers from a number of institutions who work on gradual typing (the meeting program can be found <a href="http://prl.ccs.neu.edu/gtp/pi2016/pi2016.html">here</a>). In case you aren&rsquo;t familiar with gradual typing, the idea is to augment dynamically typed languages (think Python or Ruby) with static type annotations (as documentation, for debugging, or for tool support) that are guaranteed to be sound.</p>

<p>Gradual typing is these days a fairly popular area, but the research can seem fragmentary because of the need to support idiosyncratic language features. One of the points of the meeting was to encourage the cross-pollination of the key scientific ideas of gradual typing&mdash;the ideas that cross language and platform barriers.</p>
  <footer>
    <a href='/blog/2016/05/18/gradual-typing-across-the-spectrum/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/05/03/nepls-on-may-31st-at-umass-amherst/'>NEPLS on May 31st at UMass, Amherst</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-05-03" pubdate="true">2016-05-03</time> :: <span class="tags"><a href="/blog/tags/NEPLS.html">NEPLS</a>, <a href="/blog/tags/conference.html">conference</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/blog/tags/Author-Gabriel-Scherer.html">Gabriel Scherer</a></span></p>
  </header>

<p>It is my pleasure to relay the following announcement for the next edition of the New England Programming Language Seminer (NEPLS), to be held on Tuesday May 31st at UMass, Amherst, organized by Arjun Guha. Venez nombreux!</p>
  <footer>
    <a href='/blog/2016/05/03/nepls-on-may-31st-at-umass-amherst/'>&hellip; more &hellip;</a>
  </footer>
</article>
<article>
  <header>
    <h2><a href='/blog/2016/04/29/welcome-to-the-prl-blog/'>Welcome to the PRL blog</a></h2>
    <p class='date-and-tags'>
<time datetime="2016-04-29" pubdate="true">2016-04-29</time> :: <span class="tags"><a href="/blog/tags/about.html">about</a>, <a href="/blog/tags/1st-blog-post.html">1st blog post</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/blog/tags/Author-Ben-Greenman.html">Ben Greenman</a></span></p>
  </header>

<p>Greetings, ground rules, hopes, dreams, and notes for contributors. Welcome aboard.</p>
  <footer>
    <a href='/blog/2016/04/29/welcome-to-the-prl-blog/'>&hellip; more &hellip;</a>
  </footer>
</article>
<footer>
 <ul class="pagination">
  <li class="page-item"><a class="page-link" href="/blog/index-8.html">
    <quote>&larr;</quote></a></li>
  <li class="page-item"><a class="page-link" href="/blog/index.html">1</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-2.html">2</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-3.html">3</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-4.html">4</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-5.html">5</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-6.html">6</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-7.html">7</a></li>
  <li class="page-item"><a class="page-link" href="/blog/index-8.html">8</a></li>
  <li class="page-item active"><a class="page-link" href="/blog/index-9.html">9</a></li>
  <li class="page-item disabled"><a class="page-link" href="#">
    <quote>&rarr;</quote></a></li></ul></footer>
            </div>
          </div>
        </div>
        <footer class="footer">
          <hr />
          <p><a href="https://twitter.com/neu_prl"
                class="twitter-follow-button"
                data-show-count="false"
                data-lang="en">
               "Follow the PRL"
             </a>
             <script type="text/javascript">
               !function(d,s,id){
                   var js,fjs=d.getElementsByTagName(s)[0];
                   if(!d.getElementById(id)){
                       js=d.createElement(s);
                       js.id=id;
                       js.src="//platform.twitter.com/widgets.js";
                       fjs.parentNode.insertBefore(js,fjs);
                   }
               }(document,"script","twitter-wjs");
             </script></p>
          <p>Blog generated
          by <a href="https://github.com/greghendershott/frog">Frog</a>,
          using <a href="http://twitter.github.com/bootstrap/index.html">Bootstrap</a>.</p>
          <p>© Copyright Programming Research Laboratory 2015-2016 | made by Catchexception s.r.o. | source on <a href="https://github.com/nuprl/website">GitHub</a></p>
        </footer>
      </div>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="//code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/custom.js"></script>
    <script type="text/javascript" src="/js/analytics.js"></script>
  </body>
</html>