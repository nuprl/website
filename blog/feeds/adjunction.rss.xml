<?xml version="1.0" encoding="utf-8"?> 
<rss version="2.0">
 <channel>
  <title>PRL Blog: Posts tagged 'adjunction'</title>
  <description>PRL Blog: Posts tagged 'adjunction'</description>
  <link>http://prl.ccs.neu.edu/blog/tags/adjunction.html</link>
  <lastBuildDate>Wed, 16 Nov 2016 00:00:00 UT</lastBuildDate>
  <pubDate>Wed, 16 Nov 2016 00:00:00 UT</pubDate>
  <ttl>1800</ttl>
  <item>
   <title>Understanding Constructive Galois Connections</title>
   <link>http://prl.ccs.neu.edu/blog/2016/11/16/understanding-constructive-galois-connections/?utm_source=adjunction&amp;utm_medium=RSS</link>
   <guid isPermaLink="false">urn:http-prl-ccs-neu-edu:-blog-2016-11-16-understanding-constructive-galois-connections</guid>
   <pubDate>Wed, 16 Nov 2016 00:00:00 UT</pubDate>
   <author>Max New</author>
   <description>
&lt;p&gt;One of my favorite papers at ICFP 2016 (in lovely &lt;a href="http://conf.researchr.org/home/icfp-2016"&gt;Nara, Japan&lt;/a&gt;) was &lt;a href="https://arxiv.org/abs/1511.06965"&gt;Constructive Galois Connections: Taming the Galois Connection Framework for Mechanized Metatheory&lt;/a&gt; by &lt;a href="http://david.darais.com/"&gt;David Darais&lt;/a&gt; and &lt;a href="https://www.cs.umd.edu/~dvanhorn/"&gt;David Van Horn&lt;/a&gt;. The central technical result is quite interesting, but a little intimidating, so I&amp;rsquo;d like to share a &amp;ldquo;de-generalization&amp;rdquo; of the result that I found helpful to understand.&lt;/p&gt;
&lt;!-- more--&gt;

&lt;h1 id="history"&gt;History&lt;/h1&gt;

&lt;p&gt;I won&amp;rsquo;t go into much of the details of the paper, because I think it is quite well written, but here&amp;rsquo;s a short overview. The paper is about how to do verified static analysis while taking advantage of the calculational approach of &lt;a href="http://www.di.ens.fr/~cousot/COUSOTpapers/Marktoberdorf98.shtml"&gt;Abstract Interpretation&lt;/a&gt;. The problem is that the Galois connections people use for abstract domains are not always computable. Darais and Van Horn show however that there is a very useful class of Galois connections that is computable, and they show how they can exploit this to write verified static analyses that more closely follow the &amp;ldquo;on-paper&amp;rdquo; proofs, and offload much of the details to the proof assistant as mere calculation.&lt;/p&gt;

&lt;p&gt;David Darais told me about these results when we were at POPL 2016 (in less lovely but much more convenient &lt;a href="http://conf.researchr.org/home/POPL-2016"&gt;St. Petersburg, Florida&lt;/a&gt;) and in particular about the central theorem of the paper, which shows that two different classes of Galois connections they define, &amp;ldquo;Kleisli&amp;rdquo; and &amp;ldquo;Constructive&amp;rdquo; Galois connections, are actually constructively equivalent. I was really surprised by the result when he explained it to me, and so I hoped to find if there was a known generalization of the result for adjunctions of categories, rather than Galois connections of posets.&lt;/p&gt;

&lt;p&gt;Eventually, my usual trawling of &lt;a href="http://mathoverflow.net/"&gt;Mathoverflow&lt;/a&gt; and &lt;a href="https://ncatlab.org/nlab/show/HomePage"&gt;nlab&lt;/a&gt; led me to a &lt;a href="https://ncatlab.org/nlab/show/Cauchy+complete+category#InOrdinaryCatTheoryByProfunctors"&gt;not-quite generalization to categories&lt;/a&gt; and interestingly a &lt;a href="http://mathoverflow.net/questions/222516/duality-between-compactness-and-hausdorffness/222524#222524"&gt;&lt;em&gt;de&lt;/em&gt;-generalization to sets&lt;/a&gt; that helped me immensely to understand the theorem.&lt;/p&gt;

&lt;p&gt;Since I know that the original theorem is a bit technical, I&amp;rsquo;ll explain the de-generalization to sets here, which I hope will help to understand their theorem.&lt;/p&gt;

&lt;h1 id="functions-and-relations"&gt;Functions and Relations&lt;/h1&gt;

&lt;p&gt;Let&amp;rsquo;s start with the &amp;ldquo;Kleisli Arrows&amp;rdquo;, which are monotone functions \(f : A \to P(B) \) where \(A,B \) are posets and \(P(B)\) represents the poset of downward-closed subsets of \(B \).&lt;/p&gt;

&lt;p&gt;Now to &amp;ldquo;de-posetize&amp;rdquo; this, we&amp;rsquo;ll take sets \(X,Y \) and let \(P(Y) \) mean the powerset of \(Y\), that is the set of all subsets of \(Y \). Then a function \(f : X \to P(Y) \) is actually exactly the same thing as a relation \(R \subset X \times Y \). From \(f :
X \to P(Y) \) we can take \(R = \{(x,y) \in X\times Y | y\in f(x)\} \) and from \(R\) we can construct \(f(x) = \{y \in Y | (x,y) \in R \}\).&lt;/p&gt;

&lt;p&gt;Furthermore, the &amp;ldquo;Kleisli composition&amp;rdquo; is the same as composition of relations. If \(R \subset X \times Y \) and \(Q \subset Y \times Z
\), then the composition is defined as \[ (R;Q) = \{(x,z) \in X \times Z | \exists y\in Y. (x,y) \in R \land (y,z) \in Q\}\]&lt;/p&gt;

&lt;p&gt;Then the next thing we need to understand is what is the de-generalization of &amp;ldquo;Kleisli Galois connection&amp;rdquo;? Well, Galois connections are an instance of what&amp;rsquo;s called an adjunction in category theory, which is usually formulated in terms of categories, functors and natural transformations. However, you can interpret the definition of adjunction in any &amp;ldquo;universe&amp;rdquo; that acts like the universe of categories, functors and natural transformations and it turns out we have such a universe. The universe I&amp;rsquo;m talking about is called \(\texttt{Rel}\), and it consists of sets, relations between sets and &lt;em&gt;inclusion of relations&lt;/em&gt;, i.e. that one relation is a subset of another.&lt;/p&gt;

&lt;p&gt;Then what does it mean to have an adjunction between two relations \(R \subset X \times Y, Q \subset Y \times X\)? Taking apart the definition it just means&lt;/p&gt;

&lt;p&gt;\begin{align}\tag{1}  \Delta(X) \subset R;Q \end{align} \begin{align}\tag{2}  Q;R \subset \Delta(Y) \end{align}&lt;/p&gt;

&lt;p&gt;where \(\Delta \) means the &lt;em&gt;diagonal&lt;/em&gt;, or equality relation on the set:&lt;/p&gt;

&lt;p&gt;\[\Delta(X) = \{(x_1,x_2) \in X | x_1 = x_2 \} \]&lt;/p&gt;

&lt;p&gt;So we just need to unravel what (1) and (2) mean above. Unwinding (1), we get that for any \(x \in X\), there exists a \(y \in Y \) such that \((x,y) \in R \) and \((y,x) \in Q\). This tells us for one that \(R \) is a &amp;ldquo;right-total&amp;rdquo; relation and \(Q \) is a &amp;ldquo;left-total&amp;rdquo; relation. Every \(x \) is related to some \( y\) by \( R \) and \( Q\).&lt;/p&gt;

&lt;p&gt;If we unwind (2), we get that for any \(y,y' \in Y\) if there&amp;rsquo;s some \(x \in X \) such that \((x,y) \in R \) and \((y',x) \in Q \) then actually \(y = y')\). This one is a bit more mysterious, but first, let&amp;rsquo;s see what this tells us about the relationship between \(R\) and \(Q \).&lt;/p&gt;

&lt;p&gt;If \((x,y) \in R \), then by (1) there&amp;rsquo;s some \(y' \in Y\) so that \((x,y') \in R \) and \((y',x) \in Q\). Then, by (2) we know that \(y = y'\), so we&amp;rsquo;ve shown that if \((x,y) \in R \) then \((y,x)
\in Q\). Then a completely symmetric argument shows that if \((y,x)
\in Q \) then \((x,y)\in R\)! So we&amp;rsquo;ve discovered that actually \(Q \) is just the opposite relation of \(R \).&lt;/p&gt;

&lt;p&gt;Then if we look at (2) again but replace the \(Q\)&amp;rsquo;s by flipped \(R\)&amp;rsquo;s we get that for any \(y,y' \in Y\), if there&amp;rsquo;s some \(x
\in X\) such that \((x,y) \in R \) and \((x,y')\in R\) then \(y
= y'\), which tells us that \(R \) is a partial function, i.e., that every \(x \) is related to at most one \(y \) by \(R \).&lt;/p&gt;

&lt;p&gt;You may recognize it now, our \(R \subset X \times Y \) is just a function, and saying \(R, Q\) are adjoint is exactly the same as saying that \(Q = R^{\text{op}}\) and \(R \) is a function. Adjunctions are so pervasive you saw them back in pre-algebra!&lt;/p&gt;

&lt;h1 id="constructive-galois-connections"&gt;Constructive Galois Connections&lt;/h1&gt;

&lt;p&gt;Back to constructive Galois connections, I hope if you read the paper you can see that their theorem is a generalization of the above argument, where instead of relations we have &amp;ldquo;monotone relations&amp;rdquo;, i.e., downward-closed \(R \subset A^{\text{op}} \times B \). Then you can interpret the definition of adjunction in that universe and get that it&amp;rsquo;s the same as a Kleisli Galois connection and that a similar argument to the above shows that the &amp;ldquo;left adjoint&amp;rdquo; is represented by a monotone function \(f : A \to B \):&lt;/p&gt;

&lt;p&gt;\[R = \{(x,y) | y \le f(x) \} \]&lt;/p&gt;

&lt;p&gt;Which shows that every Kleisli Galois connection is actually a constructive Galois connection! The details are in their paper, and I hope they are easier to follow now.&lt;/p&gt;

&lt;p&gt;In fact, we get a little extra from what&amp;rsquo;s mentioned in their paper, which is that the &amp;ldquo;right adjoint&amp;rdquo; is represented by \(f \) as well but in the opposite way:&lt;/p&gt;

&lt;p&gt;\[Q = \{(y,x) | f(x) \le y \}\]&lt;/p&gt;

&lt;h1 id="category-theory-post-scriptum"&gt;Category Theory Post Scriptum&lt;/h1&gt;

&lt;p&gt;If you&amp;rsquo;re interested in Category theory, here&amp;rsquo;s a more technical addendum.&lt;/p&gt;

&lt;p&gt;Remembering from Category Theory class, sets are just posets where objects are only less than themselves and posets are (basically) categories where there is at most 1 arrow between objects, so we might naturally ask, does this theorem extend to categories?&lt;/p&gt;

&lt;p&gt;Well, first we need a generalization from relations to downward-closed relations to what are called &lt;a href="https://ncatlab.org/nlab/show/profunctor"&gt;distributors or profunctors&lt;/a&gt;. Then we can also generalize inclusion of relations to morphisms of distributors and ask, is every left adjoint distributor represented by a functor?&lt;/p&gt;

&lt;p&gt;The answer is, at least in full generality, no! For it to be true we need a special property on the codomain of the left adjoint \(R : C
\not\to D \), which is called (for mind-boggling reasons) &lt;a href="https://ncatlab.org/nlab/show/Cauchy+complete+category#InOrdinaryCatTheoryByProfunctors"&gt;Cauchy completeness&lt;/a&gt;. Viewing sets and posets as special categories, it turns out that they always have this property, and that&amp;rsquo;s why the theorem worked out for those adjunctions.&lt;/p&gt;</description></item></channel></rss>